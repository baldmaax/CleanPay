{"version":3,"file":"events.js","names":["_act","_interopRequireDefault","require","_fireEvent","obj","__esModule","default","dispatchHostEvent","element","eventName","event","handler","getEnabledEventHandler","act","touchResponder","isTouchResponder","undefined","getEventHandler","isEventEnabled","eventHandlerName","getEventHandlerName","props","charAt","toUpperCase","slice"],"sources":["../../../src/user-event/utils/events.ts"],"sourcesContent":["import { ReactTestInstance } from 'react-test-renderer';\nimport act from '../../act';\nimport { isEventEnabled, isTouchResponder } from '../../fireEvent';\n\ntype EventHandler = (event: unknown) => void;\n\n/**\n * Dispatch event function used by User Event module.\n *\n * @param element element trigger event on\n * @param eventName name of the event\n * @param event event payload\n */\nexport function dispatchHostEvent(\n  element: ReactTestInstance,\n  eventName: string,\n  event: unknown\n) {\n  const handler = getEnabledEventHandler(element, eventName);\n  if (!handler) {\n    return;\n  }\n\n  act(() => {\n    handler(event);\n  });\n}\n\nfunction getEnabledEventHandler(\n  element: ReactTestInstance,\n  eventName: string\n): EventHandler | null {\n  const touchResponder = isTouchResponder(element) ? element : undefined;\n\n  const handler = getEventHandler(element, eventName);\n  if (handler && isEventEnabled(element, eventName, touchResponder)) {\n    return handler;\n  }\n\n  return null;\n}\n\nfunction getEventHandler(element: ReactTestInstance, eventName: string) {\n  const eventHandlerName = getEventHandlerName(eventName);\n  if (typeof element.props[eventHandlerName] === 'function') {\n    return element.props[eventHandlerName];\n  }\n\n  return undefined;\n}\n\nfunction getEventHandlerName(eventName: string) {\n  return `on${eventName.charAt(0).toUpperCase()}${eventName.slice(1)}`;\n}\n"],"mappings":";;;;;;AACA,IAAAA,IAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAD,OAAA;AAAmE,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAInE;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASG,iBAAiBA,CAC/BC,OAA0B,EAC1BC,SAAiB,EACjBC,KAAc,EACd;EACA,MAAMC,OAAO,GAAGC,sBAAsB,CAACJ,OAAO,EAAEC,SAAS,CAAC;EAC1D,IAAI,CAACE,OAAO,EAAE;IACZ;EACF;EAEA,IAAAE,YAAG,EAAC,MAAM;IACRF,OAAO,CAACD,KAAK,CAAC;EAChB,CAAC,CAAC;AACJ;AAEA,SAASE,sBAAsBA,CAC7BJ,OAA0B,EAC1BC,SAAiB,EACI;EACrB,MAAMK,cAAc,GAAG,IAAAC,2BAAgB,EAACP,OAAO,CAAC,GAAGA,OAAO,GAAGQ,SAAS;EAEtE,MAAML,OAAO,GAAGM,eAAe,CAACT,OAAO,EAAEC,SAAS,CAAC;EACnD,IAAIE,OAAO,IAAI,IAAAO,yBAAc,EAACV,OAAO,EAAEC,SAAS,EAAEK,cAAc,CAAC,EAAE;IACjE,OAAOH,OAAO;EAChB;EAEA,OAAO,IAAI;AACb;AAEA,SAASM,eAAeA,CAACT,OAA0B,EAAEC,SAAiB,EAAE;EACtE,MAAMU,gBAAgB,GAAGC,mBAAmB,CAACX,SAAS,CAAC;EACvD,IAAI,OAAOD,OAAO,CAACa,KAAK,CAACF,gBAAgB,CAAC,KAAK,UAAU,EAAE;IACzD,OAAOX,OAAO,CAACa,KAAK,CAACF,gBAAgB,CAAC;EACxC;EAEA,OAAOH,SAAS;AAClB;AAEA,SAASI,mBAAmBA,CAACX,SAAiB,EAAE;EAC9C,OAAQ,KAAIA,SAAS,CAACa,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAE,GAAEd,SAAS,CAACe,KAAK,CAAC,CAAC,CAAE,EAAC;AACtE"}